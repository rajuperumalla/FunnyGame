<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async/Await</title>
<style>
   
</style>
      
</head>
<body>
    <h1 style="user-select:none;">AsycnAndAwait</h1>
    <p style="user-select:none;">rajuperumalla</p>
    <div class="target">
    </div>
    <div class="target2">

    </div>
    <script>
        const  getCountry=function(country){
            fetch(`https://countries-api-836d.onrender.com/countries/name/${country}`).then(res=>res.json()).then(data=>console.log(data));
        }
console.log("where am function code ......");
////////////////////////////////////////////////////////////////////////////////
const renderCountry=function(data)
                 {
                     var html=`<div class="details">
                        <img src="${data.flags.png}" class="country_flag" alt="image">
                        <h2 class="country_name">âŒ˜countryğŸ‘®ğŸ»â€â™€ï¸: <span>${data.name}</span></h2>
                        <h2 class="country_cap" >capitalğŸ‘‘:</span><span >${data.capital}</span>
                            <h3 class="country_lang">LANGUAGEğŸ¥: <span>${data.languages[0].name}</span></h3>
                            <h3 class="country_cur">CURRENCYğŸ§»: <SPAN>${data.currencies[0].name}</SPAN></h3> 
                            </div>`;
                            console.log(data);
                            console.log(data.borders.length);
                            const getData=[];
                            for(var i=0;i<data.borders.length;i++) {
                                fetch(`https://countries-api-836d.onrender.com/countries/alpha/${data.borders[i]}`).then((response)=>response.json()).
                                then((borderData) => {
                                 getData.push(borderData.name),
                                 html2=`<p>BorderCountries: ${getData}<p>`;
                                var element2=document.querySelector(".target2");
                                 element2.innerHTML=html2;
                                 });
                                };
                            console.log(getData);
                            console.log(...getData);
                            getData.forEach(ele=>console.log(ele));
                            var element=document.querySelector(".target");
                            element.innerHTML=html;}
//////// sometimes async have the more priority then other promises.....
        const whereAm= async function(cont){
         const res=await fetch(`https://countries-api-836d.onrender.com/countries/name/${cont}`);
         const data=await res.json();
         console.log(data);
         renderCountry(data[0]);
        }
        
        whereAm("bharat");
        getCountry("china");
        getCountry("pak");
    </script>
<script src="https://cdn.lordicon.com/bhenfmcm.js"></script>
    
</body>
</html>